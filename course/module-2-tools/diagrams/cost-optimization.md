# Оптимизация стоимости: модель под задачу

Реальные примеры стоимости типичных задач с разными комбинациями инструмент + модель. Правильный выбор экономит деньги без потери качества.

```mermaid
flowchart LR
    subgraph expensive["Дорого, но оправдано"]
        E1["Рефакторинг 20K LOC\nOpus + Sonnet\n$8-12"]
        E2["Архитектура системы\nOpus\n$2-3"]
    end

    subgraph balanced["Оптимальный баланс"]
        B1["Добавить JWT auth\nSonnet\n$1.50"]
        B2["Написать API endpoint\nSonnet\n$0.50"]
        B3["Code review\nSonnet\n$0.30"]
    end

    subgraph cheap["Дешево и массово"]
        C1["Тесты для 50 файлов\nDeepSeek R1\n$0.30"]
        C2["Миграция 100 файлов\nDeepSeek Batch\n$2-5"]
        C3["Renaming, форматирование\nHaiku\n$0.05"]
    end
```

**Правила экономии:**
1. **Планирование** (10% задач): Opus — дорого, но окупается точностью плана
2. **Реализация** (60% задач): Sonnet — золотая середина
3. **Boilerplate** (30% задач): Haiku/DeepSeek — дешево и достаточно
4. **Никогда**: Opus на rename переменной. Haiku на проектирование архитектуры
