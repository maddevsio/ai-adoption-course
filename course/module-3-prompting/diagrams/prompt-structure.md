# Структура промпта: 4 блока

Эффективный промпт состоит из четырех блоков. Каждый следующий уточняет задачу.

```mermaid
flowchart LR
    R["Роль\n— кто —"] --> C["Контекст\n— где —"] --> T["Задача\n— что —"] --> A["Критерии\n— как проверить —"]
```

```mermaid
flowchart LR
    subgraph optional["Опционально"]
        R2["Роль"]
        C2["Контекст"]
    end
    subgraph required["Обязательно"]
        T2["Задача"]
        A2["Критерии"]
    end

    optional -.-> required
```

**Когда какой блок можно опустить:**
- **Роль** — для конкретных задач ("добавь endpoint /users") роль избыточна
- **Контекст** — если агент работает в IDE и видит проект, часть контекста он берёт сам
- **Задача** — обязательна всегда
- **Критерии** — без них агент не знает, когда остановиться
