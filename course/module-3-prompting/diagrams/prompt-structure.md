# Структура промпта: 4 блока

Эффективный промпт состоит из четырех блоков. Каждый следующий блок уточняет задачу. Пропуск блока снижает качество результата.

```mermaid
flowchart TD
    R["1. Роль\nКто выполняет задачу?\n\nПример: Senior Go-разработчик\nсо знанием gRPC и PostgreSQL"]
    C["2. Контекст\nВ каких условиях?\n\nПример: Проект на Go 1.22,\nPostgreSQL, clean architecture,\nсуществующие модели в models/"]
    T["3. Задача\nЧто конкретно сделать?\n\nПример: Добавь endpoint\nPOST /api/users\nс валидацией email"]
    A["4. Критерии приемки\nКак проверить результат?\n\nПример: Тесты проходят,\nлинтер без ошибок,\nпокрытие > 80%"]

    R --> C --> T --> A
```

**Когда какой блок можно опустить:**
- **Роль** — для конкретных задач ("добавь endpoint /users") роль избыточна
- **Контекст** — если агент работает в IDE и видит проект, часть контекста он берет сам
- **Задача** — обязательна всегда
- **Критерии** — без них агент не знает, когда остановиться
