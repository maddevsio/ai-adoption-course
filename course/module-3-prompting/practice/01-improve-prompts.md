[← Оглавление](../../../README.md)

# Упражнение 1: Улучши промпт (10 мин)

Научиться распознавать "плохие" промпты и превращать их в эффективные задания для ИИ-агента.

Ниже три типичных "плохих" промпта из реальной разработки. Для каждого:
1. Определите, что в нём не так
2. Изучите эталонный улучшенный вариант
3. Запустите оба промпта на своём проекте
4. Сравните результаты

---

### Плохой промпт 1: Функция валидации

```
Напиши функцию для валидации
```

**Что не так:**
- Нет контекста
- Нет scope: Что именно валидировать?
- Нет требований: какие правила валидации?
- Нет указания: куда поместить функцию?
- Нет критериев: как определить, что функция работает правильно?

**Эталонный улучшенный вариант:**

```
Напиши функцию для валидации email

Контекст:
- Файл: src/utils/validators.ts
- Существующие валидаторы используют class-validator decorators

Требования:
- Не должна пропускать: пустые строки, строки без @, домены без точки

Формат:
- Экспортируемая функция с описанием типов

Критерии приёмки:
- Функция компилируется без ошибок TypeScript
- Покрыта unit-тестами (покрыть популярные кейсы и edge кейсы)
- Соответствует code style проекта
```

---

### Плохой промпт 2: Рефакторинг

```
Отрефактори этот код чтобы было лучше
```

**Что не так:**
- "Лучше" — субъективная оценка без конкретных критериев
- Нет scope: что именно улучшать?
- Нет ограничений: можно ли менять публичный API?

**Эталонный улучшенный вариант:**

```
Отрефактори функцию processUserData() в файле src/services/userService.ts.

Контекст:
- Проблемы: функция большая, вложенность 4 уровня, дублирование валидации

Ограничения:
- НЕ менять сигнатуру функции
- Сохранить все существующие unit-тесты рабочими (tests/userService.test.ts)
- Не добавлять новые зависимости

Критерии приёмки:
- Низкая цикломатическая сложность
- Все существующие тесты проходят
- Код проходит ESLint без предупреждений
```

---

### Чеклист "хорошего промпта"

Перед отправкой промпта агенту проверьте наличие:

**Контекст:**
- [ ] Технологический стек (язык, фреймворки, библиотеки)
- [ ] Структура проекта (где находится файл, какие есть зависимости)
- [ ] Существующие паттерны и стиль кода

**Задача:**
- [ ] Конкретное действие (что именно сделать)
- [ ] Входные данные (с чем работать)
- [ ] Ожидаемый результат (что должно получиться)

**Формат:**
- [ ] Структура кода (классы, функции, модули)
- [ ] Соглашения об именовании
- [ ] Требования к документации (комментарии, JSDoc, etc.)

**Ограничения:**
- [ ] Что НЕ делать (breaking changes, новые зависимости)
- [ ] Совместимость (какой API сохранить)
- [ ] Производительность/безопасность (если критично)

**Критерии приёмки:**
- [ ] Как проверить успешность (тесты, линтеры, компиляция)
- [ ] Минимальные требования (coverage, сложность)
- [ ] Как убедиться, что задача выполнена
---

[← 5. Промптинг для разных типов задач](../theory/04-task-specific-prompts.md) | [Оглавление](../../../README.md) | [Упражнение 2: Промпты для разных задач (15 мин) →](02-prompt-templates.md)
