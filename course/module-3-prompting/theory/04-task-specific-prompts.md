[← Оглавление](../../../README.md)

## 5. Промптинг для разных типов задач

Разные задачи требуют разных акцентов. Универсального промпта нет.

### 5.1. Разработка: фокус на спецификации и тестируемости

**Шаблон**: Начните с интерфейса/контракта перед реализацией.

**Пример (Go)**: "Спроектируй интерфейс CacheManager для работы с Redis. Продумай нужные методы. Используй go-redis/redis/v9. Обработай ошибки. Unit-тесты и интеграционные тесты."

### 5.2. Рефакторинг: акцент на сохранении поведения

**Шаблон**: Укажите конкретные code smells, подчеркните сохранение поведения.

**Пример (TypeScript)**: 

"Отрефактори src/order/processor.ts. Метод process() слишком большой, вложенность if 6 уровней, дублирование валидации в 4 местах, нарушение SRP. 

КРИТИЧНО: сохрани все 27 существующих unit-тестов рабочими. Публичный API класса не менять."

### 5.3. Тесты: требуйте edge cases и покрытие

**Шаблон**: Укажите фреймворк, типы тестов, конкретные сценарии.

**Пример (Python)**: "Напиши pytest unit-тесты для функции parse_duration(s: str) -> timedelta. 

Покрой: валидные и невалидные форматы, найди edge cases. Тесты должны проходить с coverage 100%."

### 5.4. Документация: целевая аудитория + примеры

**Шаблон**: Укажите аудиторию, формат, требуйте примеры использования.

**Пример**: "Напиши API-документацию для WebSocket endpoint /api/v1/notifications. Включи: описание протокола, типы сообщений (subscribe, unsubscribe, notification), JSON schema для каждого типа, последовательность handshake, возможные ошибки (401, 429, 500). Аудитория — frontend и mobile разработчики без опыта WebSocket."

### 5.5. Планирование: требуйте обоснование и альтернативы

**Шаблон**: Запрашивайте reasoning, trade-offs, сравнение подходов.

**Пример**: "Нужно спроектировать систему для обработки 50K событий/сек. Бизнес-задача следующая ... 

Требования: 1) Опиши архитектуру, 2) Объясни, как обеспечить идемпотентность, 3) обдумай как масштабировать, 4) Сравни trade-offs: простота vs производительность vs надёжность. Для каждого решения — аргументы за/против с примерами из практики."
---

[← 4. Антипаттерны промптинга](03-antipatterns.md) | [Оглавление](../../../README.md) | [Упражнение 1: Улучши промпт (10 мин) →](../practice/01-improve-prompts.md)
