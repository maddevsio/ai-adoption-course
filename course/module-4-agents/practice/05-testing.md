[← Оглавление](../../../README.md)

## Практика: Тестирование с агентом

### Упражнение 1: Unit тесты

Возьмите любую функцию в вашем проекте и попросите агента написать тесты:

```
Покрой тестами [функция] в [файл].
Минимум 5 сценариев: happy path, 2 error cases, 2 edge cases.
```

**Проверьте результат:**
- Агент покрыл edge cases, а не только happy path?
- Тесты независимы друг от друга?
- Assertions проверяют структуру, а не точные строки?
- Какой coverage удалось достичь? Запустите `pytest --cov` / `npm test -- --coverage` и оцените результат.

### Упражнение 2: Интеграционный тест для API

```
Напиши интеграционный тест для [endpoint].
Lifecycle: POST (создать) → GET (прочитать) → PUT (обновить) → DELETE (удалить) → GET (проверить 404).
```

**Ожидаемый результат:**
- Тест проходит полный CRUD-цикл для одного ресурса
- Каждый шаг проверяет HTTP status code и тело ответа
- Тест очищает за собой тестовые данные (или использует транзакцию с rollback)

### Упражнение 3: Pre-commit проверки

Добавьте автоматический запуск тестов перед коммитом (pre-commit hook)

```
Добавь pre-commit hook в проект, который будет запускать линтер, форматтер, тесты
```

**Ожидаемый результат:**
- Файл `.git/hooks/pre-commit` (или конфигурация через husky/pre-commit framework) создан
- При `git commit` автоматически запускаются: линтер, форматтер, тесты
- Коммит блокируется, если любая проверка не прошла

### Чеклист верификации

- [ ] Упражнение 1: unit-тесты проходят, coverage > 80%
- [ ] Упражнение 2: интеграционный тест проходит полный CRUD-цикл
- [ ] Упражнение 3: pre-commit hook блокирует коммит при падении тестов
---

[← Итерация — исправь найденные проблемы](04-iteration.md) | [Оглавление](../../../README.md) | [Чеклист готовности →](06-checklist.md)
