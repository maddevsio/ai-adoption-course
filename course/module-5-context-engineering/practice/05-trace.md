[← Оглавление](../../../README.md)

# Шаг 4: Заметки по реализации (5 мин)

### Цель

Создать trace — документ с заметками о том, что сделано, какие решения приняты, что пошло не так.

### Шаблон

Пусть агент использует файл [templates/implementation-notes-template.md](../templates/implementation-notes-template.md) как основу.

### Задание

1. Попросите агента заполнить trace для реализованной фичи:

2. Проверьте созданный trace:
   - [ ] Есть конкретика? (не "всё хорошо", а "query parsing через URLSearchParams работает корректно")
   - [ ] Есть анализ проблем? (что пошло не так и почему)
   - [ ] Есть предложения для конституции? (что стоит зафиксировать)

3. Обновите конституцию на основе trace:
   - Прочитайте секцию "Для конституции"
   - Добавьте ценные находки в AGENTS.md (если они действительно важны)
   - Не добавляйте очевидное или избыточное

### Пример заполненного trace (фрагмент)

```markdown
# Trace: Task Filtering API

**Дата:** 2026-02-20
**Спецификация:** specs/task-filtering.spec.md
**Агент:** Claude Sonnet 4.5
**Статус:** Completed

## Что сделано
- Реализован GET /api/tasks с query params: status, priority
- 8 тестов (5 unit + 3 integration), coverage 92%

## Что не так
- Забыл нормализовать query params к lowercase → добавил strings.ToLower()

## Для конституции
- Pattern: фильтрация через query parameters, не POST body
- Convention: нормализовать query params к lowercase перед валидацией
```

### Что делает trace хорошим

- [ ] **Конкретика:** не "всё прошло хорошо", а "реализован endpoint X, написано N тестов"
- [ ] **Проблемы с причинами:** не "была ошибка", а "забыл нормализовать регистр → тесты падали"
- [ ] **Предложения для конституции:** конкретные паттерны, antipatterns, conventions
- [ ] **Краткость:** trace — это field notes, а не отчёт на 10 страниц
---

[← Шаг 3: Реализация по спецификации (10 мин)](04-implementation.md) | [Оглавление](../../../README.md) | [Чеклист и следующие шаги →](06-checklist.md)
