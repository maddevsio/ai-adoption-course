[← Оглавление](../../../README.md)

# Feature Specification: [Название фичи]

**Автор:** [Ваше имя]
**Дата:** [YYYY-MM-DD]
**Статус:** [Draft / In Review / Approved / Implemented]

---

## Цель

[1-2 предложения: что делает фича, зачем она нужна, какую проблему решает]

**Пример:**
> Пользователь может фильтровать список задач по статусу и приоритету, чтобы быстро находить нужные задачи без необходимости просматривать весь список.

---

## Acceptance Criteria

Чёткие критерии готовности. Фича считается выполненной, когда все пункты ниже реализованы:

- [ ] [Критерий 1: например, "пользователь может фильтровать задачи по статусу (pending/in_progress/done)"]
- [ ] [Критерий 2: например, "пользователь может фильтровать задачи по приоритету (low/medium/high)"]
- [ ] [Критерий 3: например, "фильтры можно комбинировать (статус + приоритет одновременно)"]
- [ ] [Критерий 4: например, "пустой фильтр возвращает все задачи"]
- [ ] [Критерий 5: например, "неверные значения фильтров возвращают ошибку 400"]
- [ ] [Критерий 6: например, "есть тесты для всех сценариев фильтрации"]

**Примечание:** Каждый критерий должен быть измеримым и проверяемым.

---

## Технические ограничения

Какие технологии использовать, какие паттерны применять, каким правилам следовать.

### Технологии

- **Backend:** [язык, фреймворк, версия]
- **Database:** [какая БД, нужны ли индексы, миграции]
- **API:** [REST/GraphQL/gRPC, формат данных]
- **Frontend (если применимо):** [фреймворк, библиотеки]

**Пример:**
> - Backend: Go 1.22, Echo v4
> - Database: PostgreSQL 15 (добавить индексы на поля status и priority)
> - API: REST (query parameters для фильтров)

### Паттерны и соглашения

- **Следовать:** [ссылка на конституцию проекта, например, "AGENTS.md"]
- **Обязательные паттерны:** [перечислить специфичные для этой фичи]
- **Conventions:** [именование, структура файлов]

**Пример:**
> - Следовать паттернам из AGENTS.md (Repository pattern, error handling)
> - Фильтры передаются через query parameters (RESTful)
> - Валидация на уровне handler, бизнес-логика в service layer

### Ограничения

- **Performance:** [требования к производительности, если есть]
- **Security:** [аутентификация, авторизация, валидация]
- **Compatibility:** [обратная совместимость, версионирование API]

**Пример:**
> - Запрос должен выполняться < 100ms на 10,000 задач
> - Фильтрация доступна только авторизованным пользователям
> - Обратная совместимость: старые клиенты без фильтров продолжают работать

---

## Out of Scope

Что НЕ входит в эту фичу (чтобы агент не ушёл в сторону):

- [Пример: "Не реализовывать bulk-операции"]
- [Пример: "Не менять существующие endpoints"]

---

## Примеры API

Примеры запросов и ответов для каждого acceptance criteria:

**Пример 1: Успешный запрос**
```
GET /api/tasks?status=pending
→ 200 [{ "id": 1, "status": "pending", ... }]
```

**Пример 2: Невалидный фильтр**
```
GET /api/tasks?status=invalid
→ 400 { "error": "Invalid status. Allowed: pending, in_progress, done" }
```
