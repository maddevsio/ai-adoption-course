[← Оглавление](../../../README.md)

# Ralph Loop: цикл автономной работы агента

Ralph Loop — паттерн, при котором агент работает в цикле Do -> Check -> Fix до тех пор, пока все проверки не пройдут. Критерий остановки — не "я написал код", а "все тесты зеленые".

```mermaid
flowchart TD
    Start["Получена задача"] --> Do["Do<br>Агент пишет код"]
    Do --> Check{"Check<br>Тесты? Линтер?<br>Типы? Билд?"}
    Check -->|"Все зеленое"| Done["Done<br>Коммит + PR"]
    Check -->|"Есть ошибки"| Limit{"Лимит<br>итераций<br>достигнут?"}
    Limit -->|"Нет"| Fix["Fix<br>Читает ошибку,<br>исправляет код"]
    Fix --> Do
    Limit -->|"Да"| Escalate["Эскалация<br>Передать разработчику<br>или сменить агента"]
```

**Две точки выхода:**
- **Done** — все автоматические проверки прошли, агент создает коммит и PR
- **Эскалация** — после N итераций (например, 50) или по таймауту агент признает, что не справляется, и передает задачу человеку или другому агенту (hot-swap)
