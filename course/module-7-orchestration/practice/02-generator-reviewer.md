# Генератор + Ревьюер

Паттерн: один агент пишет код, другой проверяет. Простейшая форма оркестрации для повышения качества.

---

### Упражнение: два агента работают последовательно (15 мин)

**1. Терминал 1 — Агент-генератор:**

```bash
claude
```

```
Создай git worktree для фичи "delete-endpoint" и в нём реализуй:

DELETE /api/tasks/{id} endpoint

Требования:
1. Удалять задачу по ID
2. 204 No Content при успехе
3. 404 Not Found если задача не существует
4. Тесты: успешное удаление, попытка удалить несуществующую
5. Запустить все тесты

Действуй автономно.
```

**3. Терминал 2 — Агент-ревьюер:**

```bash
cd ../myproject-delete-endpoint
claude
```

```
Проведи code review кода в текущей директории.

Проверь:
1. Тесты: все edge cases покрыты? тесты проходят?
2. Безопасность: авторизация? SQL-инъекции? валидация input?
3. Стиль кода: соответствие стилю проекта?

Создай отчёт: найденные проблемы, рекомендации, что сделано хорошо.
```

**4. Передайте результат ревью генератору:**

Вернитесь в Терминал 1:
```
Вот результат code review:
[скопируйте отчёт ревьюера]
Исправь все найденные проблемы.
```

### Анализ результатов

- Какие проблемы нашёл ревьюер? (тесты, безопасность, стиль)
- Стоила ли двойная проверка затраченного времени и токенов?

**Когда использовать:** критичный код, незнакомая технология, production код.
**Когда НЕ использовать:** простые задачи, прототипы, код который будет переписан.

### Проверка

- [ ] Генератор написал код
- [ ] Ревьюер проверил и создал отчёт
- [ ] Генератор исправил найденные проблемы
