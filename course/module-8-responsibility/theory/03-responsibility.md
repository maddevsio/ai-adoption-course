[← Оглавление](../../../README.md)

## 3. Ответственность по уровням

> [Диаграмма: Ответственность по уровням (Level 3 -> 4 -> 5)](../diagrams/responsibility-by-level.md)

Ответственность растёт с уровнем автономности. Чем больше делегируете ИИ, тем выше ваша ответственность за настройку и контроль.

#### **Уровень 3: автономный агент**

Вы отвечаете за код, который коммитите. Код от ИИ = ваш код. Если Claude Code сгенерировал функцию с уязвимостью SQL-инъекции и вы её закоммитили — вы ответственны.

Агент — это джуниор-разработчик: пишет быстро, но требует ревью. Минимум: прочитайте сгенерированный код, запустите тесты, проверьте diff перед коммитом.

```
Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

Это не формальность — это честность перед командой. Когда коллега смотрит на коммит в `git blame`, он видит, что код написан агентом. Это влияет на глубину ревью.

#### **Уровень 4: агент + MCP**

Вы отвечаете за настройки агента и подключённые MCP-серверы. Ключевые вопросы:
- Какие серверы подключены?
- Какие данные доступны?
- К каким API есть доступ?

**Типичные ошибки:**
- Подключили MCP-сервер с доступом к прод-базе — агент случайно удалил данные
- Через MCP-сервер Jira агент закрыл тикет, про который вспомнили только в день релиза — пришлось переносить сроки

**Ответственность:** регулярный аудит MCP-конфигурации, ограничение доступов, логирование действий.

#### **Уровень 5: оркестрация (несколько агентов, координация)**

Вы отвечаете за результат всей системы. Агент А написал код, агент Б его задеплоил, агент В обновил документацию.

**Типичные проблемы:**
- Документация не соответствует коду — ваша ответственность настроить координацию
- Два агента работали параллельно и создали конфликты в Git — ваша ответственность использовать `git worktree` для изоляции
- Агенты натворили чушь, а вы не заметили вовремя — потерянное время на вашей ответственности

<details>
<summary>Constitution как граница ответственности</summary>

В **Enji Fleet** используется концепция ADR (Architecture Decision Records). Это решения, которые нельзя менять без согласования человека.

ADR включают критичные архитектурные выборы: tech stack, паттерны взаимодействия сервисов, принципы безопасности.

Агент может реализовывать фичи, но не может самовольно изменить выбор базы данных с PostgreSQL на MongoDB. Даже если ему кажется это улучшением.

**Граница чёткая:** стратегия — за человеком, тактика — за агентом.

</details>

---

[← 2. Безопасность](02-security.md) | [Оглавление](../../../README.md) | [Чеклисты для работы с AI-кодом →](../practice/01-checklists.md)
