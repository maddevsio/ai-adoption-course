# Структура курса

## Обзор

Курс состоит из 8 модулей. Каждый модуль — пара "теория + практика".
Общее время: ~8 часов (теория ~3ч, практика ~5ч).

Формат: асинхронный. Текстовые материалы + видео-демо + задания.
Видео — короткие скринкасты (5-10 мин), не лекции.

## Сквозной пример: Enji Fleet

Курс использует реальный проект Mad Devs — **Enji Fleet** — как сквозной кейс для иллюстрации практик. Fleet — платформа оркестрации AI-агентов, которая сама разрабатывается агентами. Это не учебный пример, а production-проект с 7 Go-микросервисами, React-фронтендом, Docker Compose и 16+ выполненными планами.

Анализ практик: `sources/enji-fleet-analysis.md`
Репозиторий: `/home/kb/Documents/workspace/mad_devs/enji-fleet`

Где используется:
- **Модуль 1**: кейс Mad Devs — проект, написанный агентами
- **Модуль 4**: реальный AGENTS.md, 4 режима работы агента (dev/doc/reflect/push)
- **Модуль 5**: constitution как "память", trace-файлы, иерархия артефактов, автономный промпт
- **Модуль 6**: кастомный MCP-сервер для коммуникации агент↔платформа
- **Модуль 7**: Docker image с 4 AI CLI, профили агентов, hot-swap, git worktree, credential management
- **Модуль 8**: co-authorship атрибуция в коммитах и PR

При написании материалов агенты должны ходить в репозиторий Fleet за конкретным кодом и текстом, а не пересказывать абстрактно.

## Путь ученика

```
Часть I: Фундамент (модули 1-3, ~2.5ч)
  Уровень 1-2 → Уровень 3

[Зачем ИИ?] → [Инструменты + Установка] → [Промптинг]

Часть II: Агентная разработка (модули 4-5, ~2.5ч)
  Уровень 3 → Уровень 4

[Работа с агентом] → [Spec-driven dev + Контекст]

Часть III: Расширение и оркестрация (модули 6-7, ~2.5ч)
  Уровень 4 → Уровень 5

[MCP: настройка] → [Параллельные агенты + Оркестрация]

Часть IV: Ответственность (модуль 8, ~30 мин)

[Безопасность, риски, правила]
```

---

## Часть I: Фундамент

### Модуль 1: Зачем разработчику ИИ (20 мин теории + 10 мин практики)

Цель: мотивация и ориентировка. Снять скепсис, откалибровать ожидания, показать путь.

Теория:
- Эволюция разработки ПО: машинный код → ассемблер → компилируемые языки → скриптовые языки → фреймворки → ИИ-ассистенты → агенты → оркестры агентов. Каждый переход — рост абстракции и снижение порога входа. Мы на очередном таком переходе.
- Что изменилось в 2025-2026: агенты, MCP, мульти-модельность — это уже рабочие инструменты
- 3 реальных кейса с метриками
- Модель зрелости: 5 уровней от чата до оркестрации. Дополнительно: Steve Yegge "Welcome to Gas Town" — 8-уровневая шкала как более гранулярный ориентир
- Честные ожидания: ИИ помогает в ~60% работы, полностью автоматизирует 0-20%
- Где агенты полезны, а где нет:
  - **Агенты полезны**: рутинный CRUD, boilerplate, тесты по шаблону, документация, рефакторинг по правилам, миграции данных, контент-генерация (глоссарии, лендинги), линтинг/форматирование, написание кода по спецификации
  - **Агенты осложнены**: архитектурные решения (агент предложит — человек решает), работа с legacy без тестов, интеграция с внешними API без документации, UX-решения, бизнес-логика со скрытыми правилами
  - **Нельзя делегировать**: финальная приёмка и code review, деплой в production, решения по безопасности и доступам, выбор архитектуры системы, работа с персональными данными клиентов, определение приоритетов бизнеса
  - Принцип: агент делает — человек принимает. Автономность агента растёт с качеством спецификации и тестов.
- Как устроен курс: что будет на каждом этапе

Практика:
- Самооценка: на каком уровне зрелости ты сейчас? (анкета из "Портрета ИИ зрелости")
- Поставить цель: какой уровень хочешь достичь к концу курса

Формат: текст + инфографика + анкета самооценки

### Модуль 2: Ландшафт инструментов + установка (20 мин теории + 40 мин практики)

Цель: понять категории, выбрать стек, установить всё на машину.

Теория:
- 4 категории: LLM-чаты, IDE-копилоты, AI-IDE (Cursor, Antigravity), CLI-агенты (Claude Code, Codex CLI, OpenCode)
- Конкретные инструменты в каждой (актуальные, с ценами). Комбинирование инструментов как норма

- Бесплатные и дешёвые инструменты:
  - **OpenCode** (https://github.com/anomalyco/opencode, 103K stars) — open-source CLI-агент, поддерживает все провайдеры (Claude, GPT, Gemini, Ollama), бесплатен, платишь только за API. Альтернатива Claude Code без привязки к Anthropic.
  - **Claude free tier** — 30-100 сообщений/день на Sonnet/Haiku, без подписки. Guest Pass (от Max-подписчиков) — 7 дней полного Pro-доступа.
  - **Ollama** (https://ollama.com) — запуск моделей локально (Llama 3, DeepSeek, Qwen). Бесплатно, данные не уходят. Нужен GPU и 8+ GB RAM. Качество ниже облачных моделей, но хватает для обучения и приватных задач.
  - **Kilo Code** (https://github.com/Kilo-Org/kilocode, 15K stars) — open-source расширение VS Code с агентными режимами (Architect, Code, Debug, Orchestrator), поддерживает 500+ моделей включая Ollama.
- Модели: Claude, GPT, Gemini, opensource модели — когда какую (умные на планирование, планирование в цикле, разбивка на минимальные задачи, реализация мелких задач толпой дешевых моделей). Стоимость токенов.
- Как выбирать: задача → категория → инструмент

Практика:
- Установить Claude Code CLI
- Проверить: агентный режим работает, CLI работает
- Первый тест: написать архитектурную схему проекта

Формат: текст + таблица сравнения + пошаговая инструкция + видео-демо установки

### Модуль 3: Промптинг (20 мин теории + 40 мин практики)

Цель: научиться формулировать задачи, а не вопросы. Промптинг для разных типов задач.

Теория:
- Ключевой сдвиг: "вопрос" → "задание"
- Структура промпта: роль → контекст → задача → критерии приёмки (+ альтернатива PPFO)
- Техники: ролевая постановка, few-shot, прочие продвинутые (нетривиальные)
- Антипаттерны: нечёткие формулировки, god-prompt, отсутствие контекста
- Промптинг для разных задач: разработка, рефакторинг, тесты, документация, планирование

Практика:
- Упражнение 1: улучшить 3 "плохих" промпта → сравнить результаты до/после
- Упражнение 2: написать промпты для 3 типов задач (код, тесты, рефакторинг) на своём проекте
- Упражнение 3: игра https://gandalf.lakera.ai/intro

Формат: текст + примеры до/после + задания

---

## Часть II: Агентная разработка

### Модуль 4: Работа с AI-агентом (30 мин теории + 45 мин практики)

Цель: перейти от "спрашивать" к "делегировать". Научиться управлять агентом.

Теория:
- Агент vs чат: чат отвечает, агент действует (читает файлы, пишет код, запускает команды, итерирует)
- Цикл агента: plan → act → observe → adjust
- Как ставить задачу: декомпозиция, контекст, критерии приёмки
- Режимы работы: Plan/Act разделение (разные модели для разных фаз), steering через checkpoints (research → plan → implement → verify)
- Настройка правил: AGENTS.md, .cursorrules — что писать, минимальный шаблон
- Повышение качества: hooks (автозапуск lint/test), TDD-подход с агентами, детерминистические инструменты в workflow агента
- Надзор: когда вмешиваться, как проверять. Human-in-the-loop VS Agentic mass generation. В обоих случаях свои ограничения и преимущества. Надо подбирать под ситуацию. Опиши алгоритм выбора

Практика:
- Шаг 1: Создать док для агента (AGENTS.md) для своего проекта (по шаблону)
- Шаг 2: Описать проблему (нужен эндпоинт / страница / отчет)
- поставить задачу. 
- Получить от агента-планировщика описание задачи и мелкие подзадачи
- Зафреймить агента сразу подумать о тестировании качества (линтер, тесты, критерии приемки)
- Шаг 3: Ревью результата по чеклисту, найти проблемы
- Шаг 4: Скорректировать через агента (итерация)


Формат: текст + видео-демо + шаблон AGENTS.md + задания

### Модуль 5: Spec-driven development и управление контекстом (30 мин теории + 45 мин практики)

Цель: научиться писать спецификации, по которым агент работает автономно. Управлять артефактами проекта.

Теория:
- Проблема: агент теряет контекст в длинных сессиях. Context Engineering — управление контекстным окном. Решение: артефакты.
- Spec-driven development: что это, зачем, как работает
  - Пишешь спецификацию → агент реализует → ты ревьюишь
  - Спецификация = единый источник истины для агента
- Иерархия артефактов:
  - Конституция проекта (project constitution) — высокоуровневые правила
  - Планы фичей (feature plans) — описание конкретной задачи
  - Заметки по реализации — решения, принятые в процессе
  - Работа над ошибками — что пошло не так и почему
- Специальные артефакты: Agents.md, Memories, 
- Skills - готовые промпты и подходы, заточенные под конкретные ситуации (примеры)
- Версионирование промптов и результатов

Практика:
- Почитать источники:
  - Anthropic: "Building a C compiler with a team of parallel Claudes" (https://www.anthropic.com/engineering/building-c-compiler)
  - Thoughtworks: "Spec-driven development: Unpacking one of 2025's key new practices" (https://www.thoughtworks.com/en-us/insights/blog/agile-engineering-practices/spec-driven-development-unpacking-2025-new-engineering-practices)
  - Martin Fowler: "Understanding SDD: Kiro, spec-kit, and Tessl" (https://martinfowler.com/articles/exploring-gen-ai/sdd-3-tools.html)
  - Примеры конституций: Next.js AGENTS.md (https://github.com/vercel/next.js/blob/canary/AGENTS.md), Anthropic CLAUDE.md (https://github.com/anthropics/claude-code-action/blob/main/CLAUDE.md)
- Поставить skills для SDD:
  - cc-sdd (https://github.com/gotalab/cc-sdd) — полный SDD-workflow: `npx cc-sdd@latest --claude --lang ru`
  - GitHub Spec Kit (https://github.com/github/spec-kit) — конституция, спеки, планы, задачи: `uv tool install specify-cli`
- Шаг 1: Написать конституцию проекта для своего репозитория
- Шаг 2: Написать спецификацию для конкретной фичи (подготовленный сценарий)
- Шаг 3: Дать агенту спецификацию → он реализует → ревью результата
- Шаг 4: Зафиксировать заметки по реализации (что агент сделал хорошо, что нет)

Формат: текст + шаблоны артефактов + задания

---

## Часть III: Расширение и оркестрация

### Модуль 6: MCP — настройка и использование (20 мин теории + 55 мин практики)

Цель: расширить возможности агента через MCP. Установить и настроить MCP-серверы.

Теория:
- Что такое MCP: стандарт подключения инструментов к агенту (БД, API, браузер, файлы)
- Архитектура: клиент (агент) ↔ сервер (инструмент) ↔ ресурс
- Зачем: агент может читать Jira, ходить в БД, искать в интернете, работать с файлами за пределами проекта
- Как выбрать серверы: каталог, критерии (безопасность, стабильность, популярность)
- Настройка в Cursor и Claude Code: конфигурационные файлы

Практика:
- Шаг 1: Установить 2-3 MCP-сервера (из подготовленного списка):
  - git — глубокая работа с git из агента
  - jira - ворклоги
  - IDE - чтобы агент мог запускать дебаггер в PyCharm, настроить окружение
  - Figma - https://github.com/GLips/Figma-Context-MCP

Прочее:
https://github.com/hustcc/mcp-mermaid

https://github.com/k-jarzyna/mcp-miro

https://github.com/MarkusPfundstein/mcp-obsidian

https://www.claube.ai/servers/browserstack-mcp

https://github.com/GongRzhe/Office-PowerPoint-MCP-Server

Puppeteer MCP Server: Web Automation

PostgreSQL MCP Server: Natural Language Database Queries

Формат: текст + видео-демо настройки + пошаговая инструкция + задания

### Модуль 7: Параллельные агенты и оркестрация (30 мин теории + 60 мин практики)

Цель: перейти от одного агента к координации нескольких. Освоить паттерны оркестрации.

Теория:
- Сдвиг роли разработчика: от кодинга к проектированию и менеджменту
  - Было: разработчик = пишет код. Стало: разработчик = проектирует решения, настраивает оркестратор, контролирует качество.
  - Аналогия с Enji Fleet: менеджер ставит задачу → флит агентов декомпозирует, кодит, тестит, оформляет PR → человек принимает результат. Разработчик превращается в архитектора + ревьюера + мейнтейнера флита.
  - Три новые компетенции: (1) проектирование спецификаций, которые агенты могут исполнить, (2) настройка и тюнинг оркестратора (роли, модели, стратегии), (3) приёмка и контроль качества результата.
  - Кодинг не исчезает — но смещается. Разработчик пишет код там, где агент не справляется: сложная бизнес-логика, архитектурные решения, интеграции без документации. Всё остальное — делегируется.
- Зачем параллельность: один агент = одна задача. Несколько агентов = несколько задач одновременно.
- Изоляция контекстов: каждый агент — своя сессия, свой scope
- Git worktrees: зачем нужны для параллельной агентной работы, как создавать
- Ralph Loop: цикл агентной работы (plan → implement → test → review → iterate). Ссылки: https://ghuntley.com/ralph/, https://dev.to/alexandergekov/2026-the-year-of-the-ralph-loop-agent-1gkj
- Паттерны оркестрации:
  - Генератор + Ревьюер: один агент пишет код, другой проверяет
  - Декомпозиция: разбить фичу на подзадачи, каждая — отдельному агенту
  - Иерархия: агент-координатор ставит задачи агентам-исполнителям
- Ролевая модель агентов (из Enji Fleet): архитектор → планировщик → разработчик → QA. Каждая роль — своя модель, свои инструменты, свой уровень автономности. Умная модель планирует, дешёвая исполняет.
- Fail-until-done: агент маслает пока не сделает. Цикл Do → Check (Tests/Lint) → Fix. Автоматическая замена агента при зацикливании (agents-hot-swap).
- Runbook / "Библия": формализованный план работы + верхнеуровневый ценностный документ для оркестратора. Структура: цель → подзадачи → кому какая → порядок → критерии приёмки → как сливать.
- Мониторинг: heartbeat от агентов, логи действий, метрики (время на задачу, количество итераций, расход токенов). Человек видит прогресс, но не контролирует каждый шаг.
- Разрешение конфликтов: что делать, когда результаты агентов противоречат друг другу. Lessons learned → память оркестратора.
- Дополнительные возможности для параллельной разработки:
  - Claude Code в облаке: headless-режим (`claude -p`), Docker, EC2/VPS, GitHub Actions (`anthropics/claude-code-action@v1`)
  - Долговременные auth-токены: `claude setup-token` (1 год), `ANTHROPIC_API_KEY` для автоматизации, `CLAUDE_CODE_OAUTH_TOKEN` для подписчиков Max
  - Claude Agent SDK: программный SDK (Python/TypeScript) для построения кастомных оркестраторов и ботов
  - Agent Teams (experimental): multi-session параллельная работа с shared task list и inter-agent messaging
  - OpenClaw (https://github.com/openclaw/openclaw): open-source платформа автономных агентов (188K stars), multi-agent routing, интеграция с Claude Code через MCP, экосистема оркестраторов (Claworc, Antfarm)

Практика:
- Шаг 1: Создать git worktree для изолированной работы агента
- Шаг 2: Паттерн "генератор + ревьюер": один агент пишет код, другой проводит ревью
- Шаг 3: Параллельная работа: 2 агента делают разные подзадачи одной фичи одновременно
- Шаг 4: Слияние результатов: собрать работу двух агентов в один результат
- Шаг 5: Написать runbook для задачи из своего проекта

Формат: текст + видео-демо + задания

---

## Часть IV: Ответственность

### Модуль 8: Ответственное использование ИИ (20 мин теории + 10 мин практики)

Цель: знать границы, риски и правила для каждого уровня автономности.

Теория:
- Ограничения ИИ: галлюцинации, контекстное окно, sycophancy, предвзятость данных
- Garbage in — garbage out: качество результата зависит от качества входных данных
- Безопасность: что нельзя отправлять, как настроить изоляцию
- YOLO-мод: что это, когда допустимо, принцип наименьших привилегий
- Грамотная настройка агентов: правила, ограничения, sandboxing
- Ответственность растёт с уровнем автономности:
  - Уровень 3: отвечаешь за код, который коммитишь
  - Уровень 4: отвечаешь за настройки агента и MCP
  - Уровень 5: отвечаешь за результат всей системы агентов
- Чеклист "Доверяй, но проверяй"
- Категории выбора инструментов под задачи: когда ИИ уместен, когда нет

Практика:
- Настроить правила безопасности: .gitignore, исключения в агенте, ограничения MCP
- Пройти финальный тест (10 вопросов)
- Заполнить анкету: повторная самооценка уровня зрелости (сравнить с Модулем 1)

Формат: текст + чеклист + тест + анкета

---

## Итого

| Модуль | Теория | Практика | Итого | Уровень |
|--------|--------|----------|-------|---------|
| 1. Зачем ИИ | 20 мин | 10 мин | 30 мин | 1→2 |
| 2. Инструменты + установка | 20 мин | 40 мин | 60 мин | 2 |
| 3. Промптинг | 20 мин | 40 мин | 60 мин | 2→3 |
| 4. Работа с агентом | 30 мин | 45 мин | 75 мин | 3 |
| 5. SDD + контекст | 30 мин | 45 мин | 75 мин | 3→4 |
| 6. MCP | 20 мин | 55 мин | 75 мин | 4 |
| 7. Оркестрация | 30 мин | 60 мин | 90 мин | 4→5 |
| 8. Ответственность | 20 мин | 10 мин | 30 мин | все |
| **Итого** | **190 мин (~3.2ч)** | **305 мин (~5.1ч)** | **~8 часов** | 1→5 |

## Соответствие исходному контент-плану

| Контент-план (модуль) | Покрывается в | Что добавлено |
|----------------------|---------------|---------------|
| Модуль 1: Базовые принципы (15 мин) | Модули 1-2 | Расширен: больше кейсов, установка, модели |
| Модуль 2: Промптинг (20 мин) | Модуль 3 | Расширен: few-shot, промптинг под задачи, практика |
| Модуль 3: IDE, MCP, агенты (30 мин) | Модули 4-7 | Разбит на 4 полноценных модуля с глубокой практикой |
| Модуль 4: Ответственность (15 мин) | Модуль 8 | Расширен: ответственность по уровням автономности |
| — | Модуль 5 (SDD) | Новый: spec-driven dev, управление артефактами |
| — | Модуль 7 (оркестрация) | Новый: Ralph Loop, параллельные агенты, worktrees |
